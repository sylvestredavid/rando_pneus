{"version":3,"sources":["webpack:///src/app/pages/fiche/fiche.page.html","webpack:///src/app/pages/fiche/fiche-routing.module.ts","webpack:///src/app/pages/fiche/fiche.module.ts","webpack:///src/app/pages/fiche/fiche.page.scss","webpack:///src/app/pages/fiche/fiche.page.ts","webpack:///src/app/services/events.ts"],"names":["routes","path","component","FichePageRoutingModule","imports","forChild","exports","FichePageModule","declarations","FichePage","alertCtrl","router","ficheService","events","loadingCtrl","ficheFirebaseService","destroy","create","message","loading","fiches","present","sub","fiches$","subscribe","fichesF","dismiss","getFiches","id","navigate","event","stopPropagation","showConfirm","fiche","sendFiche","header","buttons","text","handler","deleteFiche","then","removeItem","confirm","i","length","splice","unsubscribe","selector","template","Events","channels","topic","observer","data","subject","next","complete","providedIn"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,QAAMA,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;AAWA,QAAaC,sBAAsB;AAAA;AAAA,KAAnC;;AAAaA,0BAAsB,6DAJlC,+DAAS;AACRC,aAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,aAAO,EAAE,CAAC,4DAAD;AAFD,KAAT,CAIkC,GAAtBH,sBAAsB,CAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGb,QAAaI,eAAe;AAAA;AAAA,KAA5B;;AAAaA,mBAAe,6DAT3B,+DAAS;AACRH,aAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,4EAJO,CADD;AAORI,kBAAY,EAAE,CAAC,qDAAD;AAPN,KAAT,CAS2B,GAAfD,eAAe,CAAf;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACef,QAAaE,SAAS;AAKlB,yBAAmBC,SAAnB,EACmBC,MADnB,EAEoBC,YAFpB,EAGmBC,MAHnB,EAImBC,WAJnB,EAKoBC,oBALpB,EAKgE;AAAA;;AAL7C,aAAAL,SAAA,GAAAA,SAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACC,aAAAC,YAAA,GAAAA,YAAA;AACD,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACC,aAAAC,oBAAA,GAAAA,oBAAA;AAEhBF,cAAM,CAACG,OAAP,CAAe,cAAf;AACH;;AAbiB;AAAA;AAAA,oCAeD;;;;;;;;;;AACG,2BAAM,KAAKF,WAAL,CAAiBG,MAAjB,CAAwB;AAC1CC,6BAAO,EAAE;AADiC,qBAAxB,CAAN;;;AAAVC,2B;;wBAGF,KAAKC,M;;;;;;AACL,2BAAMD,OAAO,CAACE,OAAR,EAAN;;;AAGJ,yBAAKC,GAAL,GAAW,KAAKP,oBAAL,CAA0BQ,OAA1B,CAAkCC,SAAlC,CACP,UAAAC,OAAO,EAAI;AACP,2BAAI,CAACL,MAAL,GAAcK,OAAd;AACAN,6BAAO,CAACO,OAAR;AACH,qBAJM,CAAX,C,CAOA;;;;;;;;;AACH;AA/BiB;AAAA;AAAA,mCAkCV;AACJ,eAAKC,SAAL;AACH;AApCiB;AAAA;AAAA,mCAuCPC,EAvCO,EAuCG;AACjB,eAAKjB,MAAL,CAAYkB,QAAZ,CAAqB,CAAC,gBAAgBD,EAAjB,CAArB;AACH;AAzCiB;AAAA;AAAA,gCA4CXE,KA5CW,EA4CGF,EA5CH,EA4Ca;AAC3BE,eAAK,CAACC,eAAN;AACA,eAAKC,WAAL,CAAiBJ,EAAjB;AACH;AA/CiB;AAAA;AAAA,6BAiDbE,KAjDa,EAiDCF,EAjDD,EAiDW;AACzBE,eAAK,CAACC,eAAN;AACA,eAAKpB,MAAL,CAAYkB,QAAZ,CAAqB,CAAC,gBAAgBD,EAAjB,CAArB;AACH;AApDiB;AAAA;AAAA,6BAsDbE,KAtDa,EAsDCG,KAtDD,EAsDkB;AAChCH,eAAK,CAACC,eAAN;AACA,eAAKnB,YAAL,CAAkBsB,SAAlB,CAA4BD,KAA5B;AACH;AAzDiB;AAAA;AAAA,oCA2DAL,EA3DA,EA2DS;;;;;;;;;;AACP,2BAAM,KAAKlB,SAAL,CAAeO,MAAf,CAAsB;AACxCkB,4BAAM,EAAE,cADgC;AAExCjB,6BAAO,EAAE,8CAF+B;AAGxCkB,6BAAO,EAAE,CACL;AACIC,4BAAI,EAAE,KADV;AAEIC,+BAAO,EAAE,mBAAM;AACX,gCAAI,CAACvB,oBAAL,CAA0BwB,WAA1B,CAAsCX,EAAtC,EACKY,IADL,CACU;AAAA,mCAAM,MAAI,CAACC,UAAL,CAAgBb,EAAhB,CAAN;AAAA,2BADV;AAEH;AALL,uBADK,EAQL;AACIS,4BAAI,EAAE,SADV;AAEIC,+BAAO,EAAE,mBAAM,CACd;AAHL,uBARK;AAH+B,qBAAtB,CAAN;;;AAAVI,2B;;AAkBN,2BAAMA,OAAO,CAACrB,OAAR,EAAN;;;;;;;;;AACH;AA/EiB;AAAA;AAAA,mCAkFPO,EAlFO,EAkFE;AAChB,eAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKvB,MAAL,CAAYwB,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AACzC,gBAAI,KAAKvB,MAAL,CAAYuB,CAAZ,EAAef,EAAf,KAAsBA,EAA1B,EAA8B;AAC1B,mBAAKR,MAAL,CAAYyB,MAAZ,CAAmBF,CAAnB,EAAsB,CAAtB;AACH;AACJ;AACJ;AAxFiB;AAAA;AAAA,sCA0FP;AACP,eAAKrB,GAAL,CAASwB,WAAT;AACH;AA5FiB;;AAAA;AAAA,OAAtB;;;;cAKkC;;cACH;;cACO;;cACP;;cACK;;cACU;;;;AAVjCrC,aAAS,6DALrB,gEAAU;AACPsC,cAAQ,EAAE,WADH;AAEPC,cAAQ,EAAR;AAAA;AAAA,gGAFO;;;;AAAA,KAAV,CAKqB,GAATvC,SAAS,CAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZb;;;;;;;AAQA,QAAawC,MAAM;AAAnB;AAAA;;AAEY,aAAAC,QAAA,GAA6C,EAA7C;AA8CX;AA5CG;;;;;;;;;AAJe;AAAA;AAAA,kCAWLC,KAXK,EAWUC,QAXV,EAWoC;AAC/C,cAAI,CAAC,KAAKF,QAAL,CAAcC,KAAd,CAAL,EAA2B;AACvB,iBAAKD,QAAL,CAAcC,KAAd,IAAuB,IAAI,4CAAJ,EAAvB;AACH;;AAED,iBAAO,KAAKD,QAAL,CAAcC,KAAd,EAAqB3B,SAArB,CAA+B4B,QAA/B,CAAP;AACH;AAED;;;;;;AAnBe;AAAA;AAAA,gCAwBPD,KAxBO,EAwBQE,IAxBR,EAwBiB;AAC5B,cAAMC,OAAO,GAAG,KAAKJ,QAAL,CAAcC,KAAd,CAAhB;;AACA,cAAI,CAACG,OAAL,EAAc;AACV;AACA;AACH;;AAEDA,iBAAO,CAACC,IAAR,CAAaF,IAAb;AACH;AAED;;;;;;AAlCe;AAAA;AAAA,gCAuCPF,KAvCO,EAuCM;AACjB,cAAMG,OAAO,GAAG,KAAKJ,QAAL,CAAcC,KAAd,CAAhB;;AACA,cAAI,CAACG,OAAL,EAAc;AACV;AACH;;AAEDA,iBAAO,CAACE,QAAR;AACA,iBAAO,KAAKN,QAAL,CAAcC,KAAd,CAAP;AACH;AA/Cc;;AAAA;AAAA,OAAnB;;AAAaF,UAAM,6DAHlB,iEAAW;AACRQ,gBAAU,EAAE;AADJ,KAAX,CAGkB,GAANR,MAAM,CAAN","file":"pages-fiche-fiche-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-menu-button class=\\\"menu_button\\\"></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <img class=\\\"papatte\\\" src=\\\"./assets/img/patte.png\\\" align=\\\"middle\\\" alt=\\\"\\\">\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <div>\\r\\n        <div class=\\\"file\\\" tappable *ngFor=\\\"let fiche of fiches\\\" (click)=\\\"detailPage(fiche.id)\\\">\\r\\n          <div class=\\\"name\\\">\\r\\n              <div class=\\\"round round_success\\\" *ngIf=\\\"!fiche.vue\\\"></div>\\r\\n              <div class=\\\"round round_warning\\\" *ngIf=\\\"fiche.vue && fiche.modifieParBureau\\\"></div>\\r\\n              <div class=\\\"round\\\" *ngIf=\\\"fiche.vue && !fiche.modifieParBureau\\\"></div>\\r\\n            <div class=\\\"relative\\\">\\r\\n                <ion-icon name=\\\"document-text-sharp\\\" class=\\\"icon\\\" color=\\\"primary\\\">\\r\\n                </ion-icon>\\r\\n<!--                <div class=\\\"round round_positioned\\\" *ngIf=\\\"fiche.envoye\\\"></div>-->\\r\\n            </div>\\r\\n            {{fiche.nomClient}}\\r\\n          </div>\\r\\n            <ion-icon name=\\\"pencil-sharp\\\" class=\\\"icon\\\" color=\\\"primary\\\" tappable\\r\\n                      (click)=\\\"edit($event, fiche.id)\\\"></ion-icon>\\r\\n            <ion-icon name=\\\"trash-sharp\\\" class=\\\"icon\\\" color=\\\"primary\\\" tappable\\r\\n                      (click)=\\\"delete($event, fiche.id)\\\"></ion-icon>\\r\\n            <ion-icon name=\\\"send-sharp\\\" class=\\\"icon\\\" color=\\\"primary\\\" tappable (click)=\\\"send($event, fiche)\\\"></ion-icon>\\r\\n        </div>\\r\\n        <ion-item *ngIf=\\\"fiches?.length == 0\\\">Vous n'avez pas de fiche\\r\\n        </ion-item>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FichePage } from './fiche.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FichePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FichePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FichePageRoutingModule } from './fiche-routing.module';\r\n\r\nimport { FichePage } from './fiche.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FichePageRoutingModule\r\n  ],\r\n  declarations: [FichePage]\r\n})\r\nexport class FichePageModule {}\r\n","export default \".file {\\n  height: 90px;\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n  padding: 0 30px;\\n  border-bottom: 1px solid #B9AA97;\\n}\\n\\nion-icon {\\n  font-size: 30px;\\n}\\n\\n.relative {\\n  position: relative;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.relative ion-icon {\\n  font-size: 36px;\\n  margin-right: 24px;\\n}\\n\\n.round {\\n  width: 15px;\\n  height: 15px;\\n  border-radius: 50%;\\n  margin-right: 1.5vw;\\n}\\n\\n.round_positioned {\\n  position: absolute;\\n  top: 0;\\n  right: 40%;\\n  margin: 0;\\n  background: #04B200;\\n}\\n\\n.round_success {\\n  background: #04B200;\\n}\\n\\n.round_warning {\\n  background: #FFAB00;\\n}\\n\\n.name {\\n  width: 75%;\\n  display: flex;\\n  justify-content: flex-start;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZmljaGUvRDpcXFByb2plY3RzXFxyYW5kb19wbmV1cy9zcmNcXGFwcFxccGFnZXNcXGZpY2hlXFxmaWNoZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2ZpY2hlL2ZpY2hlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLFlBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxnQ0FBQTtBQ0FGOztBREdBO0VBQ0UsZUFBQTtBQ0FGOztBREdBO0VBQ0Usa0JBQUE7RUFDQSwwQkFBQTtFQUFBLHVCQUFBO0VBQUEsa0JBQUE7QUNBRjs7QURDRTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREdBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQUY7O0FER0E7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLG1CQUFBO0FDQUY7O0FER0E7RUFDRSxtQkFBQTtBQ0FGOztBREdBO0VBQ0UsbUJBQUE7QUNBRjs7QURHQTtFQUNFLFVBQUE7RUFDQSxhQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZmljaGUvZmljaGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5maWxle1xyXG4gIGhlaWdodDogOTBweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogMCAzMHB4O1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjQjlBQTk3XHJcbn1cclxuXHJcbmlvbi1pY29ue1xyXG4gIGZvbnQtc2l6ZTozMHB4O1xyXG59XHJcblxyXG4ucmVsYXRpdmUge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgaW9uLWljb24ge1xyXG4gICAgZm9udC1zaXplOiAzNnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OjI0cHg7XHJcbiAgfVxyXG59XHJcblxyXG4ucm91bmQge1xyXG4gIHdpZHRoOiAxNXB4O1xyXG4gIGhlaWdodDogMTVweDtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxLjV2dztcclxufVxyXG5cclxuLnJvdW5kX3Bvc2l0aW9uZWQge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgcmlnaHQ6IDQwJTtcclxuICBtYXJnaW46IDA7XHJcbiAgYmFja2dyb3VuZDogIzA0QjIwMDtcclxufVxyXG5cclxuLnJvdW5kX3N1Y2Nlc3Mge1xyXG4gIGJhY2tncm91bmQ6ICMwNEIyMDA7XHJcbn1cclxuXHJcbi5yb3VuZF93YXJuaW5nIHtcclxuICBiYWNrZ3JvdW5kOiAjRkZBQjAwO1xyXG59XHJcblxyXG4ubmFtZSB7XHJcbiAgd2lkdGg6IDc1JTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbiIsIi5maWxlIHtcbiAgaGVpZ2h0OiA5MHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogMCAzMHB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0I5QUE5Nztcbn1cblxuaW9uLWljb24ge1xuICBmb250LXNpemU6IDMwcHg7XG59XG5cbi5yZWxhdGl2ZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xufVxuLnJlbGF0aXZlIGlvbi1pY29uIHtcbiAgZm9udC1zaXplOiAzNnB4O1xuICBtYXJnaW4tcmlnaHQ6IDI0cHg7XG59XG5cbi5yb3VuZCB7XG4gIHdpZHRoOiAxNXB4O1xuICBoZWlnaHQ6IDE1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXJpZ2h0OiAxLjV2dztcbn1cblxuLnJvdW5kX3Bvc2l0aW9uZWQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgcmlnaHQ6IDQwJTtcbiAgbWFyZ2luOiAwO1xuICBiYWNrZ3JvdW5kOiAjMDRCMjAwO1xufVxuXG4ucm91bmRfc3VjY2VzcyB7XG4gIGJhY2tncm91bmQ6ICMwNEIyMDA7XG59XG5cbi5yb3VuZF93YXJuaW5nIHtcbiAgYmFja2dyb3VuZDogI0ZGQUIwMDtcbn1cblxuLm5hbWUge1xuICB3aWR0aDogNzUlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59Il19 */\";","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {AlertController, LoadingController} from '@ionic/angular';\r\nimport {Router} from '@angular/router';\r\nimport {FicheService} from '../../services/fiches.service';\r\nimport {Events} from '../../services/events';\r\nimport {FicheModel} from '../../models/fiche.model';\r\nimport {MOCK_FICHES} from '../../models/fiches.mock';\r\nimport {FicheFirebaseService} from '../../services/fiche-firebase.service';\r\nimport {Subscription} from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-fiche',\r\n    templateUrl: './fiche.page.html',\r\n    styleUrls: ['./fiche.page.scss'],\r\n})\r\nexport class FichePage implements OnInit, OnDestroy {\r\n    fiches: FicheModel[];\r\n    sub: Subscription;\r\n    user: any;\r\n\r\n    constructor(public alertCtrl: AlertController,\r\n                public router: Router,\r\n                private ficheService: FicheService,\r\n                public events: Events,\r\n                public loadingCtrl: LoadingController,\r\n                private ficheFirebaseService: FicheFirebaseService) {\r\n\r\n        events.destroy('ficheEnvoyed');\r\n    }\r\n\r\n   async getFiches() {\r\n        const loading = await this.loadingCtrl.create({\r\n            message: 'Récupération des fiches en cours...'\r\n        });\r\n        if(!this.fiches) {\r\n            await loading.present();\r\n        }\r\n\r\n        this.sub = this.ficheFirebaseService.fiches$.subscribe(\r\n            fichesF => {\r\n                this.fiches = fichesF;\r\n                loading.dismiss();\r\n            }\r\n        );\r\n\r\n        // this.fiches = MOCK_FICHES\r\n    }\r\n\r\n\r\n    ngOnInit(): void {\r\n        this.getFiches();\r\n    }\r\n\r\n\r\n    detailPage(id: number): void {\r\n        this.router.navigate(['edit-fiche/' + id]);\r\n    }\r\n\r\n\r\n    delete(event: Event, id: number): void {\r\n        event.stopPropagation();\r\n        this.showConfirm(id);\r\n    }\r\n\r\n    edit(event: Event, id: number): void {\r\n        event.stopPropagation();\r\n        this.router.navigate(['edit-fiche/' + id]);\r\n    }\r\n\r\n    send(event: Event, fiche: FicheModel): void {\r\n        event.stopPropagation();\r\n        this.ficheService.sendFiche(fiche);\r\n    }\r\n\r\n    async showConfirm(id: any) {\r\n        const confirm = await this.alertCtrl.create({\r\n            header: 'Confirmation',\r\n            message: 'Voulez-vous vraiment supprimer cette fiche ?',\r\n            buttons: [\r\n                {\r\n                    text: 'Oui',\r\n                    handler: () => {\r\n                        this.ficheFirebaseService.deleteFiche(id)\r\n                            .then(() => this.removeItem(id));\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Annuler',\r\n                    handler: () => {\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        await confirm.present();\r\n    }\r\n\r\n\r\n    removeItem(id: any) {\r\n        for (let i = 0; i < this.fiches.length; i++) {\r\n            if (this.fiches[i].id === id) {\r\n                this.fiches.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.sub.unsubscribe();\r\n    }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {Subject, Subscription} from 'rxjs';\r\n\r\n/**\r\n * A custom Events service just like Ionic 3 Events https://ionicframework.com/docs/v3/api/util/Events/ which got removed in Ionic 5.\r\n *\r\n * @author Shashank Agrawal\r\n */\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class Events {\r\n\r\n    private channels: { [key: string]: Subject<any>; } = {};\r\n\r\n    /**\r\n     * Subscribe to a topic and provide a single handler/observer.\r\n     * @param topic The name of the topic to subscribe to.\r\n     * @param observer The observer or callback function to listen when changes are published.\r\n     *\r\n     * @returns Subscription from which you can unsubscribe to release memory resources and to prevent memory leak.\r\n     */\r\n    subscribe(topic: string, observer: (_: any) => void): Subscription {\r\n        if (!this.channels[topic]) {\r\n            this.channels[topic] = new Subject<any>();\r\n        }\r\n\r\n        return this.channels[topic].subscribe(observer);\r\n    }\r\n\r\n    /**\r\n     * Publish some data to the subscribers of the given topic.\r\n     * @param topic The name of the topic to emit data to.\r\n     * @param data data in any format to pass on.\r\n     */\r\n    publish(topic: string, data: any): void {\r\n        const subject = this.channels[topic];\r\n        if (!subject) {\r\n            // Or you can create a new subject for future subscribers\r\n            return;\r\n        }\r\n\r\n        subject.next(data);\r\n    }\r\n\r\n    /**\r\n     * When you are sure that you are done with the topic and the subscribers no longer needs to listen to a particular topic, you can\r\n     * destroy the observable of the topic using this method.\r\n     * @param topic The name of the topic to destroy.\r\n     */\r\n    destroy(topic: string): null {\r\n        const subject = this.channels[topic];\r\n        if (!subject) {\r\n            return;\r\n        }\r\n\r\n        subject.complete();\r\n        delete this.channels[topic];\r\n    }\r\n}\r\n"]}