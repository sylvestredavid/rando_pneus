{"version":3,"sources":["webpack:///node_modules/angular2-signaturepad/__ivy_ngcc__/index.js","webpack:///node_modules/angular2-signaturepad/__ivy_ngcc__/signature-pad.js","webpack:///node_modules/signature_pad/dist/signature_pad.mjs","webpack:///src/app/components/components.module.ts","webpack:///src/app/components/signatures/signature-client.component.ts","webpack:///src/app/components/signatures/signature-responsable.component.ts","webpack:///src/app/services/events.ts"],"names":["core_1","signature_pad_1","ɵngcc0","ɵngcc1","SignaturePadModule","ctorParameters","ɵmod","ɵɵdefineNgModule","type","ɵinj","ɵɵdefineInjector","factory","SignaturePadModule_Factory","t","imports","ngJitMode","ɵɵsetNgModuleScope","declarations","SignaturePad","exports","ɵsetClassMetadata","NgModule","args","elementRef","options","onBeginEvent","EventEmitter","onEndEvent","prototype","ngAfterContentInit","sp","canvas","nativeElement","querySelector","canvasHeight","height","canvasWidth","width","signaturePad","onBegin","bind","onEnd","ngOnDestroy","resizeCanvas","ratio","Math","max","window","devicePixelRatio","_canvas","offsetWidth","offsetHeight","getContext","scale","clear","toData","fromData","points","toDataURL","imageType","quality","fromDataURL","dataURL","hasOwnProperty","isEmpty","off","on","set","option","value","emit","queryPad","ElementRef","propDecorators","Input","Output","ɵfac","SignaturePad_Factory","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","inputs","outputs","decls","vars","template","SignaturePad_Template","rf","ctx","ɵɵelement","encapsulation","Component","selector","Point","x","y","time","Date","getTime","velocityFrom","start","distanceTo","sqrt","pow","equals","other","Bezier","startPoint","control1","control2","endPoint","length","steps","px","py","i","cx","_point","cy","xdiff","ydiff","c1","c2","end","throttle","func","wait","context","result","timeout","previous","later","leading","now","apply","remaining","arguments","clearTimeout","trailing","setTimeout","self","opts","velocityFilterWeight","minWidth","maxWidth","minDistance","_strokeMoveUpdate","_strokeUpdate","dotSize","penColor","backgroundColor","_ctx","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_handleMouseUp","_strokeEnd","_handleTouchStart","targetTouches","touch","changedTouches","_handleTouchMove","preventDefault","_handleTouchEnd","wasCanvasTouched","target","fillStyle","clearRect","fillRect","_data","_reset","_isEmpty","dataUrl","_this","undefined","image","Image","src","onload","drawImage","_toSVG","_len","Array","_key","concat","_handleMouseEvents","_handleTouchEvents","removeEventListener","document","push","clientX","clientY","point","_createPoint","lastPointGroup","lastPoint","isLastPointTooClose","_addPoint","curve","widths","_drawCurve","color","canDrawCurve","_drawDot","addEventListener","style","msTouchAction","touchAction","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","tmp","unshift","_calculateCurveControlPoints","c3","_calculateCurveWidths","shift","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","velocity","newWidth","_strokeWidth","_drawPoint","size","moveTo","arc","PI","startWidth","endWidth","widthDelta","drawSteps","floor","beginPath","tt","ttt","u","uu","uuu","closePath","fill","_fromData","pointGroups","drawCurve","drawDot","group","j","rawPoint","_addPoint2","_rawPoint","_this2","minX","minY","maxX","maxY","svg","createElementNS","setAttributeNS","path","createElement","isNaN","attr","toFixed","setAttribute","appendChild","circle","prefix","header","body","innerHTML","dummy","nodes","childNodes","cloneNode","footer","data","btoa","_this3","components","ComponentsModule","SignatureClientComponent","signaturePadOptions","SignatureResponsableComponent","Events","channels","topic","observer","subscribe","subject","next","complete","providedIn"],"mappings":"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","file":"default~pages-detail-fiche-detail-fiche-module~pages-edit-fiche-edit-fiche-module~pages-nouvelle-fic~e6387913-es5.js","sourcesContent":["\"use strict\";\r\nvar core_1 = require('@angular/core');\r\nvar signature_pad_1 = require('./signature-pad');\r\nvar ɵngcc0 = require('@angular/core');\nvar ɵngcc1 = require('./signature-pad');\nvar SignaturePadModule = (function () {\r\n    function SignaturePadModule() {\r\n    }\r\n    /** @nocollapse */\r\n    SignaturePadModule.ctorParameters = [];\nSignaturePadModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: SignaturePadModule });\nSignaturePadModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function SignaturePadModule_Factory(t) { return new (t || SignaturePadModule)(); }, imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(SignaturePadModule, { declarations: [ɵngcc1.SignaturePad], exports: [ɵngcc1.SignaturePad] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SignaturePadModule, [{\n        type: core_1.NgModule,\n        args: [{\n                imports: [],\n                declarations: [signature_pad_1.SignaturePad],\n                exports: [signature_pad_1.SignaturePad]\n            }]\n    }], function () { return []; }, null); })();\r\n    return SignaturePadModule;\r\n}());\r\nexports.SignaturePadModule = SignaturePadModule;\r\nexports.SignaturePad = ɵngcc1.SignaturePad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxxQkFBeUIsZUFBZSxDQUFDLENBQUE7QUFDekMsOEJBQTZCLGlCQUFpQixDQUFDLENBQUE7OztBQUkvQztBQUF3QyxJQUF4QztBQUFnQyxJQVVoQyxDQUFDLEFBSkM7SUFOdUMsSkFPekMsSUFBQSxrQkFBa0I7VUFQaUMsR0FBMEIsVUFDN0UsRUFBRSxJQUFJLEVBQUUsL0JBT1IsSUFBTyxpQ0FBYyxHQUE2RCxFQUNqRjtFQVJlLEVBQUUsSUFBSSxFQUFFLENBQUMsc0JBQ3ZCLE9BQU8sRUFBRSxFQUFHLHNCQUNaLFlBQVksRUFBRTtBQUFFLDRCQUFZLENBQUUsc0JBQzlCLE9BQU8sRUFBRSxDQUFFLDRCQUFZLENBQUUsbUJBQzFCLEVBQUcsRUFBRSxPQUNMOzs7Ozs7Ozs7Z0RBR0M7QUFDRixJQUFBLHlCQUFDO0FBQUQsQ0FBQyxBQVZELElBVUM7O0FBZkEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFJQSxBQUFBLEFBVUEsQUFBQSxBQVZBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFWQSxBQVVBLEFBVkEsQUFBQSxBQVVBLEFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU2lnbmF0dXJlUGFkIH0gZnJvbSAnLi9zaWduYXR1cmUtcGFkJztcblxuXG5cbmV4cG9ydCBjbGFzcyBTaWduYXR1cmVQYWRNb2R1bGUgeyBzdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBOZ01vZHVsZSwgYXJnczogW3tcbiAgaW1wb3J0czogWyBdLFxuICBkZWNsYXJhdGlvbnM6IFsgU2lnbmF0dXJlUGFkIF0sXG4gIGV4cG9ydHM6IFsgU2lnbmF0dXJlUGFkIF0sXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gW1xuXTtcbn1cblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","'use strict';\r\nvar core_1 = require('@angular/core');\r\nvar ɵngcc0 = require('@angular/core');\nvar SignaturePad = (function () {\r\n    function SignaturePad(elementRef) {\r\n        // no op\r\n        this.elementRef = elementRef;\r\n        this.options = this.options || {};\r\n        this.onBeginEvent = new core_1.EventEmitter();\r\n        this.onEndEvent = new core_1.EventEmitter();\r\n    }\r\n    SignaturePad.prototype.ngAfterContentInit = function () {\r\n        var sp = require('signature_pad').default;\r\n        var canvas = this.elementRef.nativeElement.querySelector('canvas');\r\n        if (this.options.canvasHeight) {\r\n            canvas.height = this.options.canvasHeight;\r\n        }\r\n        if (this.options.canvasWidth) {\r\n            canvas.width = this.options.canvasWidth;\r\n        }\r\n        this.signaturePad = new sp(canvas, this.options);\r\n        this.signaturePad.onBegin = this.onBegin.bind(this);\r\n        this.signaturePad.onEnd = this.onEnd.bind(this);\r\n    };\r\n    SignaturePad.prototype.ngOnDestroy = function () {\r\n        var canvas = this.elementRef.nativeElement.querySelector('canvas');\r\n        canvas.width = 0;\r\n        canvas.height = 0;\r\n    };\r\n    SignaturePad.prototype.resizeCanvas = function () {\r\n        // When zoomed out to less than 100%, for some very strange reason,\r\n        // some browsers report devicePixelRatio as less than 1\r\n        // and only part of the canvas is cleared then.\r\n        var ratio = Math.max(window.devicePixelRatio || 1, 1);\r\n        var canvas = this.signaturePad._canvas;\r\n        canvas.width = canvas.offsetWidth * ratio;\r\n        canvas.height = canvas.offsetHeight * ratio;\r\n        canvas.getContext('2d').scale(ratio, ratio);\r\n        this.signaturePad.clear(); // otherwise isEmpty() might return incorrect value\r\n    };\r\n    // Returns signature image as an array of point groups\r\n    SignaturePad.prototype.toData = function () {\r\n        if (this.signaturePad) {\r\n            return this.signaturePad.toData();\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    };\r\n    // Draws signature image from an array of point groups\r\n    SignaturePad.prototype.fromData = function (points) {\r\n        this.signaturePad.fromData(points);\r\n    };\r\n    // Returns signature image as data URL (see https://mdn.io/todataurl for the list of possible paramters)\r\n    SignaturePad.prototype.toDataURL = function (imageType, quality) {\r\n        return this.signaturePad.toDataURL(imageType, quality); // save image as data URL\r\n    };\r\n    // Draws signature image from data URL\r\n    SignaturePad.prototype.fromDataURL = function (dataURL, options) {\r\n        if (options === void 0) { options = {}; }\r\n        // set default height and width on read data from URL\r\n        if (!options.hasOwnProperty('height') && this.options.canvasHeight) {\r\n            options.height = this.options.canvasHeight;\r\n        }\r\n        if (!options.hasOwnProperty('width') && this.options.canvasWidth) {\r\n            options.width = this.options.canvasWidth;\r\n        }\r\n        this.signaturePad.fromDataURL(dataURL, options);\r\n    };\r\n    // Clears the canvas\r\n    SignaturePad.prototype.clear = function () {\r\n        this.signaturePad.clear();\r\n    };\r\n    // Returns true if canvas is empty, otherwise returns false\r\n    SignaturePad.prototype.isEmpty = function () {\r\n        return this.signaturePad.isEmpty();\r\n    };\r\n    // Unbinds all event handlers\r\n    SignaturePad.prototype.off = function () {\r\n        this.signaturePad.off();\r\n    };\r\n    // Rebinds all event handlers\r\n    SignaturePad.prototype.on = function () {\r\n        this.signaturePad.on();\r\n    };\r\n    // set an option on the signaturePad - e.g. set('minWidth', 50);\r\n    SignaturePad.prototype.set = function (option, value) {\r\n        switch (option) {\r\n            case 'canvasHeight':\r\n                this.signaturePad._canvas.height = value;\r\n                break;\r\n            case 'canvasWidth':\r\n                this.signaturePad._canvas.width = value;\r\n                break;\r\n            default:\r\n                this.signaturePad[option] = value;\r\n        }\r\n    };\r\n    // notify subscribers on signature begin\r\n    SignaturePad.prototype.onBegin = function () {\r\n        this.onBeginEvent.emit(true);\r\n    };\r\n    // notify subscribers on signature end\r\n    SignaturePad.prototype.onEnd = function () {\r\n        this.onEndEvent.emit(true);\r\n    };\r\n    SignaturePad.prototype.queryPad = function () {\r\n        return this.signaturePad;\r\n    };\r\n    /** @nocollapse */\r\n    SignaturePad.ctorParameters = [\r\n        { type: core_1.ElementRef, },\r\n    ];\r\n    SignaturePad.propDecorators = {\r\n        'options': [{ type: core_1.Input },],\r\n        'onBeginEvent': [{ type: core_1.Output },],\r\n        'onEndEvent': [{ type: core_1.Output },],\r\n    };\nSignaturePad.ɵfac = function SignaturePad_Factory(t) { return new (t || SignaturePad)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nSignaturePad.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: SignaturePad, selectors: [[\"signature-pad\"]], inputs: { options: \"options\" }, outputs: { onBeginEvent: \"onBeginEvent\", onEndEvent: \"onEndEvent\" }, decls: 1, vars: 0, template: function SignaturePad_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"canvas\");\n    } }, encapsulation: 2 });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SignaturePad, [{\n        type: core_1.Component,\n        args: [{\n                template: '<canvas></canvas>',\n                selector: 'signature-pad'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: core_1.Input\n        }], onBeginEvent: [{\n            type: core_1.Output\n        }], onEndEvent: [{\n            type: core_1.Output\n        }] }); })();\r\n    return SignaturePad;\r\n}());\r\nexports.SignaturePad = SignaturePad;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmF0dXJlLXBhZC5qcyIsInNvdXJjZXMiOlsic2lnbmF0dXJlLXBhZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFFYixxQkFBOEYsZUFBZSxDQUFDLENBQUE7O0FBYzlHO0FBQWtDLElBU2hDLHNCQUFZLFVBQXNCO0FBQ3BDLFFBQUksUUFBUTtBQUNaLFFBQUksSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7QUFDakMsUUFBSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQ3RDLFFBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLG1CQUFZLEVBQUUsQ0FBQztBQUMzQyxRQUFJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxtQkFBWSxFQUFFLENBQUM7QUFDekMsSUFBRSxDQUFDO0FBQ0gsSUFDUyx5Q0FBa0IsR0FBekI7QUFBYyxRQUNaLElBQU0sRUFBRSxHQUFRLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFDckQsUUFBSSxJQUFNLE1BQU0sR0FBUSxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDOUUsUUFDSSxFQUFFLENBQUMsQ0FBRSxJQUFJLENBQUMsT0FBZSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDN0MsWUFBTSxNQUFNLENBQUMsTUFBTSxHQUFJLElBQUksQ0FBQyxPQUFlLENBQUMsWUFBWSxDQUFDO0FBQ3pELFFBQUksQ0FBQztBQUNMLFFBQ0ksRUFBRSxDQUFDLENBQUUsSUFBSSxDQUFDLE9BQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQzVDLFlBQU0sTUFBTSxDQUFDLEtBQUssR0FBSSxJQUFJLENBQUMsT0FBZSxDQUFDLFdBQVcsQ0FBQztBQUN2RCxRQUFJLENBQUM7QUFDTCxRQUNJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxFQUFFLENBQUMsTUFB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QUFDO0FBQUQsQ0FBQyxBQWxKRCxJQWtKQzs7QUFsS0EsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQWNBLEFBU0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQWxKQSxBQWtKQSxBQWxKQSxBQUFBLEFBa0pBLEFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7QWZ0ZXJDb250ZW50SW5pdCwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIE9uRGVzdHJveX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmRlY2xhcmUgdmFyIHJlcXVpcmU6IGFueTtcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB0aW1lOiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIFBvaW50R3JvdXAgPSBBcnJheTxQb2ludD47XG5cblxuXG5leHBvcnQgY2xhc3MgU2lnbmF0dXJlUGFkIGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdCwgT25EZXN0cm95IHtcblxuICAgcHVibGljIG9wdGlvbnM6IE9iamVjdDtcbiAgIHB1YmxpYyBvbkJlZ2luRXZlbnQ6IEV2ZW50RW1pdHRlcjxib29sZWFuPjtcbiAgIHB1YmxpYyBvbkVuZEV2ZW50OiBFdmVudEVtaXR0ZXI8Ym9vbGVhbj47XG5cbiAgcHJpdmF0ZSBzaWduYXR1cmVQYWQ6IGFueTtcbiAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHtcbiAgICAvLyBubyBvcFxuICAgIHRoaXMuZWxlbWVudFJlZiA9IGVsZW1lbnRSZWY7XG4gICAgdGhpcy5vcHRpb25zID0gdGhpcy5vcHRpb25zIHx8IHt9O1xuICAgIHRoaXMub25CZWdpbkV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIHRoaXMub25FbmRFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZCB7XG4gICAgY29uc3Qgc3A6IGFueSA9IHJlcXVpcmUoJ3NpZ25hdHVyZV9wYWQnKS5kZWZhdWx0O1xuICAgIGNvbnN0IGNhbnZhczogYW55ID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJyk7XG5cbiAgICBpZiAoKHRoaXMub3B0aW9ucyBhcyBhbnkpLmNhbnZhc0hlaWdodCkge1xuICAgICAgY2FudmFzLmhlaWdodCA9ICh0aGlzLm9wdGlvbnMgYXMgYW55KS5jYW52YXNIZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKCh0aGlzLm9wdGlvbnMgYXMgYW55KS5jYW52YXNXaWR0aCkge1xuICAgICAgY2FudmFzLndpZHRoID0gKHRoaXMub3B0aW9ucyBhcyBhbnkpLmNhbnZhc1dpZHRoO1xuICAgIH1cblxuICAgIHRoaXMuc2lnbmF0dXJlUGFkID0gbmV3IHNwKGNhbnZhcywgdGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLnNpZ25hdHVyZVBhZC5vbkJlZ2luID0gdGhpcy5vbkJlZ2luLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zaWduYXR1cmVQYWQub25FbmQgPSB0aGlzLm9uRW5kLmJpbmQodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgY29uc3QgY2FudmFzOiBhbnkgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSAwO1xuICAgIGNhbnZhcy5oZWlnaHQgPSAwO1xuICB9XG5cbiAgcHVibGljIHJlc2l6ZUNhbnZhcygpOiB2b2lkIHtcbiAgICAvLyBXaGVuIHpvb21lZCBvdXQgdG8gbGVzcyB0aGFuIDEwMCUsIGZvciBzb21lIHZlcnkgc3RyYW5nZSByZWFzb24sXG4gICAgLy8gc29tZSBicm93c2VycyByZXBvcnQgZGV2aWNlUGl4ZWxSYXRpbyBhcyBsZXNzIHRoYW4gMVxuICAgIC8vIGFuZCBvbmx5IHBhcnQgb2YgdGhlIGNhbnZhcyBpcyBjbGVhcmVkIHRoZW4uXG4gICAgY29uc3QgcmF0aW86IG51bWJlciA9IE1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEsIDEpO1xuICAgIGNvbnN0IGNhbnZhczogYW55ID0gdGhpcy5zaWduYXR1cmVQYWQuX2NhbnZhcztcbiAgICBjYW52YXMud2lkdGggPSBjYW52YXMub2Zmc2V0V2lkdGggKiByYXRpbztcbiAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLm9mZnNldEhlaWdodCAqIHJhdGlvO1xuICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLnNjYWxlKHJhdGlvLCByYXRpbyk7XG4gICAgdGhpcy5zaWduYXR1cmVQYWQuY2xlYXIoKTsgLy8gb3RoZXJ3aXNlIGlzRW1wdHkoKSBtaWdodCByZXR1cm4gaW5jb3JyZWN0IHZhbHVlXG4gIH1cblxuICAvLyBSZXR1cm5zIHNpZ25hdHVyZSBpbWFnZSBhcyBhbiBhcnJheSBvZiBwb2ludCBncm91cHNcbiAgcHVibGljIHRvRGF0YSgpOiBBcnJheTxQb2ludEdyb3VwPiB7XG4gICAgaWYgKHRoaXMuc2lnbmF0dXJlUGFkKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaWduYXR1cmVQYWQudG9EYXRhKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvLyBEcmF3cyBzaWduYXR1cmUgaW1hZ2UgZnJvbSBhbiBhcnJheSBvZiBwb2ludCBncm91cHNcbiAgcHVibGljIGZyb21EYXRhKHBvaW50czogQXJyYXk8UG9pbnRHcm91cD4pOiB2b2lkIHtcbiAgICB0aGlzLnNpZ25hdHVyZVBhZC5mcm9tRGF0YShwb2ludHMpO1xuICB9XG5cbiAgLy8gUmV0dXJucyBzaWduYXR1cmUgaW1hZ2UgYXMgZGF0YSBVUkwgKHNlZSBodHRwczovL21kbi5pby90b2RhdGF1cmwgZm9yIHRoZSBsaXN0IG9mIHBvc3NpYmxlIHBhcmFtdGVycylcbiAgcHVibGljIHRvRGF0YVVSTChpbWFnZVR5cGU/OiBzdHJpbmcsIHF1YWxpdHk/OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnNpZ25hdHVyZVBhZC50b0RhdGFVUkwoaW1hZ2VUeXBlLCBxdWFsaXR5KTsgLy8gc2F2ZSBpbWFnZSBhcyBkYXRhIFVSTFxuICB9XG5cbiAgLy8gRHJhd3Mgc2lnbmF0dXJlIGltYWdlIGZyb20gZGF0YSBVUkxcbiAgcHVibGljIGZyb21EYXRhVVJMKGRhdGFVUkw6IHN0cmluZywgb3B0aW9uczogYW55ID0ge30pOiB2b2lkIHtcbiAgICAvLyBzZXQgZGVmYXVsdCBoZWlnaHQgYW5kIHdpZHRoIG9uIHJlYWQgZGF0YSBmcm9tIFVSTFxuICAgIGlmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaGVpZ2h0JykgJiYgKHRoaXMub3B0aW9ucyBhcyBhbnkpLmNhbnZhc0hlaWdodCkge1xuICAgICAgb3B0aW9ucy5oZWlnaHQgPSAodGhpcy5vcHRpb25zIGFzIGFueSkuY2FudmFzSGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykgJiYgKHRoaXMub3B0aW9ucyBhcyBhbnkpLmNhbnZhc1dpZHRoKSB7XG4gICAgICBvcHRpb25zLndpZHRoID0gKHRoaXMub3B0aW9ucyBhcyBhbnkpLmNhbnZhc1dpZHRoO1xuICAgIH1cbiAgICB0aGlzLnNpZ25hdHVyZVBhZC5mcm9tRGF0YVVSTChkYXRhVVJMLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIENsZWFycyB0aGUgY2FudmFzXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLnNpZ25hdHVyZVBhZC5jbGVhcigpO1xuICB9XG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmIGNhbnZhcyBpcyBlbXB0eSwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2VcbiAgcHVibGljIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlUGFkLmlzRW1wdHkoKTtcbiAgfVxuXG4gIC8vIFVuYmluZHMgYWxsIGV2ZW50IGhhbmRsZXJzXG4gIHB1YmxpYyBvZmYoKTogdm9pZCB7XG4gICAgdGhpcy5zaWduYXR1cmVQYWQub2ZmKCk7XG4gIH1cblxuICAvLyBSZWJpbmRzIGFsbCBldmVudCBoYW5kbGVyc1xuICBwdWJsaWMgb24oKTogdm9pZCB7XG4gICAgdGhpcy5zaWduYXR1cmVQYWQub24oKTtcbiAgfVxuXG4gIC8vIHNldCBhbiBvcHRpb24gb24gdGhlIHNpZ25hdHVyZVBhZCAtIGUuZy4gc2V0KCdtaW5XaWR0aCcsIDUwKTtcbiAgcHVibGljIHNldChvcHRpb246IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xuXG4gICAgc3dpdGNoIChvcHRpb24pIHtcbiAgICAgIGNhc2UgJ2NhbnZhc0hlaWdodCc6XG4gICAgICAgIHRoaXMuc2lnbmF0dXJlUGFkLl9jYW52YXMuaGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2FudmFzV2lkdGgnOlxuICAgICAgICB0aGlzLnNpZ25hdHVyZVBhZC5fY2FudmFzLndpZHRoID0gdmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zaWduYXR1cmVQYWRbb3B0aW9uXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIG5vdGlmeSBzdWJzY3JpYmVycyBvbiBzaWduYXR1cmUgYmVnaW5cbiAgcHVibGljIG9uQmVnaW4oKTogdm9pZCB7XG4gICAgdGhpcy5vbkJlZ2luRXZlbnQuZW1pdCh0cnVlKTtcbiAgfVxuXG4gIC8vIG5vdGlmeSBzdWJzY3JpYmVycyBvbiBzaWduYXR1cmUgZW5kXG4gIHB1YmxpYyBvbkVuZCgpOiB2b2lkIHtcbiAgICB0aGlzLm9uRW5kRXZlbnQuZW1pdCh0cnVlKTtcbiAgfVxuXG4gIHB1YmxpYyBxdWVyeVBhZCgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnNpZ25hdHVyZVBhZDtcbiAgfVxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogQ29tcG9uZW50LCBhcmdzOiBbe1xuICB0ZW1wbGF0ZTogJzxjYW52YXM+PC9jYW52YXM+JyxcbiAgc2VsZWN0b3I6ICdzaWduYXR1cmUtcGFkJyxcbn0sIF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbnN0YXRpYyBjdG9yUGFyYW1ldGVyczogKHt0eXBlOiBhbnksIGRlY29yYXRvcnM/OiBEZWNvcmF0b3JJbnZvY2F0aW9uW119fG51bGwpW10gPSBbXG57dHlwZTogRWxlbWVudFJlZiwgfSxcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ29wdGlvbnMnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nb25CZWdpbkV2ZW50JzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidvbkVuZEV2ZW50JzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbn07XG59XG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","/*!\n * Signature Pad v2.3.2\n * https://github.com/szimek/signature_pad\n *\n * Copyright 2017 Szymon Nowak\n * Released under the MIT license\n *\n * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:\n * http://corner.squareup.com/2012/07/smoother-signatures.html\n *\n * Implementation of interpolation using cubic Bézier curves is taken from:\n * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript\n *\n * Algorithm for approximated length of a Bézier curve is taken from:\n * http://www.lemoda.net/maths/bezier-length/index.html\n *\n */\n\nfunction Point(x, y, time) {\n  this.x = x;\n  this.y = y;\n  this.time = time || new Date().getTime();\n}\n\nPoint.prototype.velocityFrom = function (start) {\n  return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 1;\n};\n\nPoint.prototype.distanceTo = function (start) {\n  return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n};\n\nPoint.prototype.equals = function (other) {\n  return this.x === other.x && this.y === other.y && this.time === other.time;\n};\n\nfunction Bezier(startPoint, control1, control2, endPoint) {\n  this.startPoint = startPoint;\n  this.control1 = control1;\n  this.control2 = control2;\n  this.endPoint = endPoint;\n}\n\n// Returns approximated length.\nBezier.prototype.length = function () {\n  var steps = 10;\n  var length = 0;\n  var px = void 0;\n  var py = void 0;\n\n  for (var i = 0; i <= steps; i += 1) {\n    var t = i / steps;\n    var cx = this._point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n    var cy = this._point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n    if (i > 0) {\n      var xdiff = cx - px;\n      var ydiff = cy - py;\n      length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n    }\n    px = cx;\n    py = cy;\n  }\n\n  return length;\n};\n\n/* eslint-disable no-multi-spaces, space-in-parens */\nBezier.prototype._point = function (t, start, c1, c2, end) {\n  return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n};\n\n/* eslint-disable */\n\n// http://stackoverflow.com/a/27078401/815507\nfunction throttle(func, wait, options) {\n  var context, args, result;\n  var timeout = null;\n  var previous = 0;\n  if (!options) options = {};\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n  return function () {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nfunction SignaturePad(canvas, options) {\n  var self = this;\n  var opts = options || {};\n\n  this.velocityFilterWeight = opts.velocityFilterWeight || 0.7;\n  this.minWidth = opts.minWidth || 0.5;\n  this.maxWidth = opts.maxWidth || 2.5;\n  this.throttle = 'throttle' in opts ? opts.throttle : 16; // in miliseconds\n  this.minDistance = 'minDistance' in opts ? opts.minDistance : 5;\n\n  if (this.throttle) {\n    this._strokeMoveUpdate = throttle(SignaturePad.prototype._strokeUpdate, this.throttle);\n  } else {\n    this._strokeMoveUpdate = SignaturePad.prototype._strokeUpdate;\n  }\n\n  this.dotSize = opts.dotSize || function () {\n    return (this.minWidth + this.maxWidth) / 2;\n  };\n  this.penColor = opts.penColor || 'black';\n  this.backgroundColor = opts.backgroundColor || 'rgba(0,0,0,0)';\n  this.onBegin = opts.onBegin;\n  this.onEnd = opts.onEnd;\n\n  this._canvas = canvas;\n  this._ctx = canvas.getContext('2d');\n  this.clear();\n\n  // We need add these inline so they are available to unbind while still having\n  // access to 'self' we could use _.bind but it's not worth adding a dependency.\n  this._handleMouseDown = function (event) {\n    if (event.which === 1) {\n      self._mouseButtonDown = true;\n      self._strokeBegin(event);\n    }\n  };\n\n  this._handleMouseMove = function (event) {\n    if (self._mouseButtonDown) {\n      self._strokeMoveUpdate(event);\n    }\n  };\n\n  this._handleMouseUp = function (event) {\n    if (event.which === 1 && self._mouseButtonDown) {\n      self._mouseButtonDown = false;\n      self._strokeEnd(event);\n    }\n  };\n\n  this._handleTouchStart = function (event) {\n    if (event.targetTouches.length === 1) {\n      var touch = event.changedTouches[0];\n      self._strokeBegin(touch);\n    }\n  };\n\n  this._handleTouchMove = function (event) {\n    // Prevent scrolling.\n    event.preventDefault();\n\n    var touch = event.targetTouches[0];\n    self._strokeMoveUpdate(touch);\n  };\n\n  this._handleTouchEnd = function (event) {\n    var wasCanvasTouched = event.target === self._canvas;\n    if (wasCanvasTouched) {\n      event.preventDefault();\n      self._strokeEnd(event);\n    }\n  };\n\n  // Enable mouse and touch event handlers\n  this.on();\n}\n\n// Public methods\nSignaturePad.prototype.clear = function () {\n  var ctx = this._ctx;\n  var canvas = this._canvas;\n\n  ctx.fillStyle = this.backgroundColor;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  this._data = [];\n  this._reset();\n  this._isEmpty = true;\n};\n\nSignaturePad.prototype.fromDataURL = function (dataUrl) {\n  var _this = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var image = new Image();\n  var ratio = options.ratio || window.devicePixelRatio || 1;\n  var width = options.width || this._canvas.width / ratio;\n  var height = options.height || this._canvas.height / ratio;\n\n  this._reset();\n  image.src = dataUrl;\n  image.onload = function () {\n    _this._ctx.drawImage(image, 0, 0, width, height);\n  };\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype.toDataURL = function (type) {\n  var _canvas;\n\n  switch (type) {\n    case 'image/svg+xml':\n      return this._toSVG();\n    default:\n      for (var _len = arguments.length, options = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        options[_key - 1] = arguments[_key];\n      }\n\n      return (_canvas = this._canvas).toDataURL.apply(_canvas, [type].concat(options));\n  }\n};\n\nSignaturePad.prototype.on = function () {\n  this._handleMouseEvents();\n  this._handleTouchEvents();\n};\n\nSignaturePad.prototype.off = function () {\n  this._canvas.removeEventListener('mousedown', this._handleMouseDown);\n  this._canvas.removeEventListener('mousemove', this._handleMouseMove);\n  document.removeEventListener('mouseup', this._handleMouseUp);\n\n  this._canvas.removeEventListener('touchstart', this._handleTouchStart);\n  this._canvas.removeEventListener('touchmove', this._handleTouchMove);\n  this._canvas.removeEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype.isEmpty = function () {\n  return this._isEmpty;\n};\n\n// Private methods\nSignaturePad.prototype._strokeBegin = function (event) {\n  this._data.push([]);\n  this._reset();\n  this._strokeUpdate(event);\n\n  if (typeof this.onBegin === 'function') {\n    this.onBegin(event);\n  }\n};\n\nSignaturePad.prototype._strokeUpdate = function (event) {\n  var x = event.clientX;\n  var y = event.clientY;\n\n  var point = this._createPoint(x, y);\n  var lastPointGroup = this._data[this._data.length - 1];\n  var lastPoint = lastPointGroup && lastPointGroup[lastPointGroup.length - 1];\n  var isLastPointTooClose = lastPoint && point.distanceTo(lastPoint) < this.minDistance;\n\n  // Skip this point if it's too close to the previous one\n  if (!(lastPoint && isLastPointTooClose)) {\n    var _addPoint = this._addPoint(point),\n        curve = _addPoint.curve,\n        widths = _addPoint.widths;\n\n    if (curve && widths) {\n      this._drawCurve(curve, widths.start, widths.end);\n    }\n\n    this._data[this._data.length - 1].push({\n      x: point.x,\n      y: point.y,\n      time: point.time,\n      color: this.penColor\n    });\n  }\n};\n\nSignaturePad.prototype._strokeEnd = function (event) {\n  var canDrawCurve = this.points.length > 2;\n  var point = this.points[0]; // Point instance\n\n  if (!canDrawCurve && point) {\n    this._drawDot(point);\n  }\n\n  if (point) {\n    var lastPointGroup = this._data[this._data.length - 1];\n    var lastPoint = lastPointGroup[lastPointGroup.length - 1]; // plain object\n\n    // When drawing a dot, there's only one point in a group, so without this check\n    // such group would end up with exactly the same 2 points.\n    if (!point.equals(lastPoint)) {\n      lastPointGroup.push({\n        x: point.x,\n        y: point.y,\n        time: point.time,\n        color: this.penColor\n      });\n    }\n  }\n\n  if (typeof this.onEnd === 'function') {\n    this.onEnd(event);\n  }\n};\n\nSignaturePad.prototype._handleMouseEvents = function () {\n  this._mouseButtonDown = false;\n\n  this._canvas.addEventListener('mousedown', this._handleMouseDown);\n  this._canvas.addEventListener('mousemove', this._handleMouseMove);\n  document.addEventListener('mouseup', this._handleMouseUp);\n};\n\nSignaturePad.prototype._handleTouchEvents = function () {\n  // Pass touch events to canvas element on mobile IE11 and Edge.\n  this._canvas.style.msTouchAction = 'none';\n  this._canvas.style.touchAction = 'none';\n\n  this._canvas.addEventListener('touchstart', this._handleTouchStart);\n  this._canvas.addEventListener('touchmove', this._handleTouchMove);\n  this._canvas.addEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype._reset = function () {\n  this.points = [];\n  this._lastVelocity = 0;\n  this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n  this._ctx.fillStyle = this.penColor;\n};\n\nSignaturePad.prototype._createPoint = function (x, y, time) {\n  var rect = this._canvas.getBoundingClientRect();\n\n  return new Point(x - rect.left, y - rect.top, time || new Date().getTime());\n};\n\nSignaturePad.prototype._addPoint = function (point) {\n  var points = this.points;\n  var tmp = void 0;\n\n  points.push(point);\n\n  if (points.length > 2) {\n    // To reduce the initial lag make it work with 3 points\n    // by copying the first point to the beginning.\n    if (points.length === 3) points.unshift(points[0]);\n\n    tmp = this._calculateCurveControlPoints(points[0], points[1], points[2]);\n    var c2 = tmp.c2;\n    tmp = this._calculateCurveControlPoints(points[1], points[2], points[3]);\n    var c3 = tmp.c1;\n    var curve = new Bezier(points[1], c2, c3, points[2]);\n    var widths = this._calculateCurveWidths(curve);\n\n    // Remove the first element from the list,\n    // so that we always have no more than 4 points in points array.\n    points.shift();\n\n    return { curve: curve, widths: widths };\n  }\n\n  return {};\n};\n\nSignaturePad.prototype._calculateCurveControlPoints = function (s1, s2, s3) {\n  var dx1 = s1.x - s2.x;\n  var dy1 = s1.y - s2.y;\n  var dx2 = s2.x - s3.x;\n  var dy2 = s2.y - s3.y;\n\n  var m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n  var m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n\n  var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n\n  var dxm = m1.x - m2.x;\n  var dym = m1.y - m2.y;\n\n  var k = l2 / (l1 + l2);\n  var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n\n  var tx = s2.x - cm.x;\n  var ty = s2.y - cm.y;\n\n  return {\n    c1: new Point(m1.x + tx, m1.y + ty),\n    c2: new Point(m2.x + tx, m2.y + ty)\n  };\n};\n\nSignaturePad.prototype._calculateCurveWidths = function (curve) {\n  var startPoint = curve.startPoint;\n  var endPoint = curve.endPoint;\n  var widths = { start: null, end: null };\n\n  var velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity;\n\n  var newWidth = this._strokeWidth(velocity);\n\n  widths.start = this._lastWidth;\n  widths.end = newWidth;\n\n  this._lastVelocity = velocity;\n  this._lastWidth = newWidth;\n\n  return widths;\n};\n\nSignaturePad.prototype._strokeWidth = function (velocity) {\n  return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n};\n\nSignaturePad.prototype._drawPoint = function (x, y, size) {\n  var ctx = this._ctx;\n\n  ctx.moveTo(x, y);\n  ctx.arc(x, y, size, 0, 2 * Math.PI, false);\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype._drawCurve = function (curve, startWidth, endWidth) {\n  var ctx = this._ctx;\n  var widthDelta = endWidth - startWidth;\n  var drawSteps = Math.floor(curve.length());\n\n  ctx.beginPath();\n\n  for (var i = 0; i < drawSteps; i += 1) {\n    // Calculate the Bezier (x, y) coordinate for this step.\n    var t = i / drawSteps;\n    var tt = t * t;\n    var ttt = tt * t;\n    var u = 1 - t;\n    var uu = u * u;\n    var uuu = uu * u;\n\n    var x = uuu * curve.startPoint.x;\n    x += 3 * uu * t * curve.control1.x;\n    x += 3 * u * tt * curve.control2.x;\n    x += ttt * curve.endPoint.x;\n\n    var y = uuu * curve.startPoint.y;\n    y += 3 * uu * t * curve.control1.y;\n    y += 3 * u * tt * curve.control2.y;\n    y += ttt * curve.endPoint.y;\n\n    var width = startWidth + ttt * widthDelta;\n    this._drawPoint(x, y, width);\n  }\n\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._drawDot = function (point) {\n  var ctx = this._ctx;\n  var width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n\n  ctx.beginPath();\n  this._drawPoint(point.x, point.y, width);\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._fromData = function (pointGroups, drawCurve, drawDot) {\n  for (var i = 0; i < pointGroups.length; i += 1) {\n    var group = pointGroups[i];\n\n    if (group.length > 1) {\n      for (var j = 0; j < group.length; j += 1) {\n        var rawPoint = group[j];\n        var point = new Point(rawPoint.x, rawPoint.y, rawPoint.time);\n        var color = rawPoint.color;\n\n        if (j === 0) {\n          // First point in a group. Nothing to draw yet.\n\n          // All points in the group have the same color, so it's enough to set\n          // penColor just at the beginning.\n          this.penColor = color;\n          this._reset();\n\n          this._addPoint(point);\n        } else if (j !== group.length - 1) {\n          // Middle point in a group.\n          var _addPoint2 = this._addPoint(point),\n              curve = _addPoint2.curve,\n              widths = _addPoint2.widths;\n\n          if (curve && widths) {\n            drawCurve(curve, widths, color);\n          }\n        } else {\n          // Last point in a group. Do nothing.\n        }\n      }\n    } else {\n      this._reset();\n      var _rawPoint = group[0];\n      drawDot(_rawPoint);\n    }\n  }\n};\n\nSignaturePad.prototype._toSVG = function () {\n  var _this2 = this;\n\n  var pointGroups = this._data;\n  var canvas = this._canvas;\n  var ratio = Math.max(window.devicePixelRatio || 1, 1);\n  var minX = 0;\n  var minY = 0;\n  var maxX = canvas.width / ratio;\n  var maxY = canvas.height / ratio;\n  var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n  svg.setAttributeNS(null, 'width', canvas.width);\n  svg.setAttributeNS(null, 'height', canvas.height);\n\n  this._fromData(pointGroups, function (curve, widths, color) {\n    var path = document.createElement('path');\n\n    // Need to check curve for NaN values, these pop up when drawing\n    // lines on the canvas that are not continuous. E.g. Sharp corners\n    // or stopping mid-stroke and than continuing without lifting mouse.\n    if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n      var attr = 'M ' + curve.startPoint.x.toFixed(3) + ',' + curve.startPoint.y.toFixed(3) + ' ' + ('C ' + curve.control1.x.toFixed(3) + ',' + curve.control1.y.toFixed(3) + ' ') + (curve.control2.x.toFixed(3) + ',' + curve.control2.y.toFixed(3) + ' ') + (curve.endPoint.x.toFixed(3) + ',' + curve.endPoint.y.toFixed(3));\n\n      path.setAttribute('d', attr);\n      path.setAttribute('stroke-width', (widths.end * 2.25).toFixed(3));\n      path.setAttribute('stroke', color);\n      path.setAttribute('fill', 'none');\n      path.setAttribute('stroke-linecap', 'round');\n\n      svg.appendChild(path);\n    }\n  }, function (rawPoint) {\n    var circle = document.createElement('circle');\n    var dotSize = typeof _this2.dotSize === 'function' ? _this2.dotSize() : _this2.dotSize;\n    circle.setAttribute('r', dotSize);\n    circle.setAttribute('cx', rawPoint.x);\n    circle.setAttribute('cy', rawPoint.y);\n    circle.setAttribute('fill', rawPoint.color);\n\n    svg.appendChild(circle);\n  });\n\n  var prefix = 'data:image/svg+xml;base64,';\n  var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + (' viewBox=\"' + minX + ' ' + minY + ' ' + maxX + ' ' + maxY + '\"') + (' width=\"' + maxX + '\"') + (' height=\"' + maxY + '\"') + '>';\n  var body = svg.innerHTML;\n\n  // IE hack for missing innerHTML property on SVGElement\n  if (body === undefined) {\n    var dummy = document.createElement('dummy');\n    var nodes = svg.childNodes;\n    dummy.innerHTML = '';\n\n    for (var i = 0; i < nodes.length; i += 1) {\n      dummy.appendChild(nodes[i].cloneNode(true));\n    }\n\n    body = dummy.innerHTML;\n  }\n\n  var footer = '</svg>';\n  var data = header + body + footer;\n\n  return prefix + btoa(data);\n};\n\nSignaturePad.prototype.fromData = function (pointGroups) {\n  var _this3 = this;\n\n  this.clear();\n\n  this._fromData(pointGroups, function (curve, widths) {\n    return _this3._drawCurve(curve, widths.start, widths.end);\n  }, function (rawPoint) {\n    return _this3._drawDot(rawPoint);\n  });\n\n  this._data = pointGroups;\n};\n\nSignaturePad.prototype.toData = function () {\n  return this._data;\n};\n\nexport default SignaturePad;\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport {SignatureClientComponent} from './signatures/signature-client.component';\nimport {SignatureResponsableComponent} from './signatures/signature-responsable.component';\nimport {SignaturePadModule} from 'angular2-signaturepad';\n\nconst components = [\n    SignatureClientComponent,\n    SignatureResponsableComponent\n];\n\n@NgModule( {\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        IonicModule,\n        RouterModule,\n        ReactiveFormsModule,\n        SignaturePadModule,\n    ],\n    declarations: [\n        components\n    ],\n    exports: [\n        components\n    ],\n           } )\nexport class ComponentsModule {\n}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {SignaturePad} from 'angular2-signaturepad/signature-pad';\n\n@Component({\n  selector: 'app-signature-client',\n  template : ' <signature-pad #signaturePad [options]=\"signaturePadOptions\" (onBeginEvent)=\"drawStart()\" (onEndEvent)=\"drawComplete()\"></signature-pad>'\n})\nexport class SignatureClientComponent {\n\n  @ViewChild('signaturePad') signaturePad: SignaturePad;\n\n  signaturePadOptions = { // passed through to szimek/signature_pad constructor\n    minWidth: 1,\n    maxWidth: 2,\n    canvasWidth: 300,\n    canvasHeight: 200\n  };\n\n  constructor( ) {\n\n  }\n\n  drawComplete() {\n    // will be notified of szimek/signature_pad's onEnd event\n  }\n\n  drawStart() {\n    // will be notified of szimek/signature_pad's onBegin event\n  }\n\n\n\n\n  getSignature(): string{\n    return this.signaturePad.toDataURL();\n  }\n\n}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {SignaturePad} from 'angular2-signaturepad/signature-pad';\n\n@Component({\n  selector: 'app-signature-responsable',\n  template : ' <signature-pad #signaturePad [options]=\"signaturePadOptions\" (onBeginEvent)=\"drawStart()\" (onEndEvent)=\"drawComplete()\"></signature-pad>'\n})\nexport class SignatureResponsableComponent{\n\n  @ViewChild('signaturePad') signaturePad: SignaturePad;\n\n  signaturePadOptions = { // passed through to szimek/signature_pad constructor\n    minWidth: 1,\n    maxWidth: 2,\n    canvasWidth: 300,\n    canvasHeight: 200\n  };\n\n  constructor( ) {\n\n  }\n\n  drawComplete() {\n    // will be notified of szimek/signature_pad's onEnd event\n  }\n\n  drawStart() {\n    // will be notified of szimek/signature_pad's onBegin event\n  }\n\n\n\n\n  getSignature(): string{\n    return this.signaturePad.toDataURL();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Subject, Subscription} from 'rxjs';\n\n/**\n * A custom Events service just like Ionic 3 Events https://ionicframework.com/docs/v3/api/util/Events/ which got removed in Ionic 5.\n *\n * @author Shashank Agrawal\n */\n@Injectable({\n    providedIn: 'root'\n})\nexport class Events {\n\n    private channels: { [key: string]: Subject<any>; } = {};\n\n    /**\n     * Subscribe to a topic and provide a single handler/observer.\n     * @param topic The name of the topic to subscribe to.\n     * @param observer The observer or callback function to listen when changes are published.\n     *\n     * @returns Subscription from which you can unsubscribe to release memory resources and to prevent memory leak.\n     */\n    subscribe(topic: string, observer: (_: any) => void): Subscription {\n        if (!this.channels[topic]) {\n            this.channels[topic] = new Subject<any>();\n        }\n\n        return this.channels[topic].subscribe(observer);\n    }\n\n    /**\n     * Publish some data to the subscribers of the given topic.\n     * @param topic The name of the topic to emit data to.\n     * @param data data in any format to pass on.\n     */\n    publish(topic: string, data: any): void {\n        const subject = this.channels[topic];\n        if (!subject) {\n            // Or you can create a new subject for future subscribers\n            return;\n        }\n\n        subject.next(data);\n    }\n\n    /**\n     * When you are sure that you are done with the topic and the subscribers no longer needs to listen to a particular topic, you can\n     * destroy the observable of the topic using this method.\n     * @param topic The name of the topic to destroy.\n     */\n    destroy(topic: string): null {\n        const subject = this.channels[topic];\n        if (!subject) {\n            return;\n        }\n\n        subject.complete();\n        delete this.channels[topic];\n    }\n}\n"]}